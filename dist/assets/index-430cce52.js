(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))p(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&p(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function p(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();let r,n=1;const O=e=>r=e,L=e=>n=e,u={totalNumberOfStitches:0,totalNumberOfThrows:0},N={gameInfoText:"Przegrałeś... Aby rozpocząć od nowa kliknij przycisk",restartGameBtnText:"Spróbuj jeszcze raz",bodyClassName:"body-end-game-defeat"},S={gameInfoText:"WYGRANA! Aby rozpocząć od nowa kliknij przycisk",restartGameBtnText:"Zagraj jeszcze raz",bodyClassName:"body-end-game-win"},j=()=>{u.totalNumberOfThrows++,u.totalNumberOfStitches+=r},v=e=>{const t=document.createElement("button"),o=document.querySelector(".game-info");(()=>{const a=document.querySelectorAll(".dice");a.forEach(c=>c.classList.add("hidden")),h.classList.add("hidden"),t.classList.add("restart-game-btn"),t.textContent=e.restartGameBtnText;const s=document.createElement("p");s.textContent=e.gameInfoText,document.body.classList.add(e.bodyClassName);const d=document.createElement("div");d.classList.add("game-stats"),d.innerHTML=`
    <h2>STATYSTYKI GRY</h2>
    <p>łączna liczba rzutów kostką: ${u.totalNumberOfThrows}</p>
    <p>Średnia liczba wyrzuconych oczek: ${(u.totalNumberOfStitches/u.totalNumberOfThrows).toPrecision(2)}</p>
        `;const l=()=>{m.forEach(y=>y.classList.remove("jumpedOn"));const c=document.getElementById("field-1");c==null||c.classList.add("first-field"),c==null||c.classList.add("active-field"),c==null||c.classList.add("jumpedOn"),h.classList.remove("hidden"),a.forEach(y=>y.classList.remove("hidden")),document.body.classList.remove(e.bodyClassName),o==null||o.removeChild(s),o==null||o.removeChild(t),o==null||o.removeChild(d),u.totalNumberOfStitches=0,u.totalNumberOfThrows=0,L(1),t.removeEventListener("click",l,!0)};o==null||o.append(s,t,d),t.addEventListener("click",l,!0)})()},w=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),b=()=>{document.body.classList.add("warning"),setTimeout(()=>{document.body.classList.remove("warning")},2e3)},C=e=>{L(e),i.forEach(t=>t.classList.add("hidden")),setTimeout(()=>{m.forEach(t=>t.classList.remove("jumpedOn")),m[n-1].classList.add("jumpedOn"),i.forEach(t=>t.classList.remove("hidden"))},500)},E=()=>{setTimeout(()=>{n===12?(i.forEach(e=>e.classList.add("hidden")),b(),setTimeout(()=>{v(N)},2e3)):n===20?v(S):n===19&&(b(),z(),i.forEach(e=>e.classList.add("hidden")),setTimeout(()=>{C(11),i.forEach(e=>e.classList.add("hidden"))},2e3))},r*500)},k=()=>{let e=1;if(n+r<=f){for(let t=n;t<=n+r-1;t++)e++,setTimeout(()=>{m.forEach(o=>o.classList.remove("jumpedOn")),m[t].classList.add("jumpedOn")},e*350);L(n+r),E()}else n+r>f&&(b(),setTimeout(()=>{i.forEach(t=>t.classList.add("hidden"))},1e3),setTimeout(()=>{L(f-(n+r-f));for(let t=f;t>=n-1;t--)e++,setTimeout(()=>{var o;m.forEach(p=>p.classList.remove("jumpedOn")),(o=m[t])==null||o.classList.add("jumpedOn")},e*350)},2e3),setTimeout(()=>{i.forEach(t=>t.classList.remove("hidden"))},4e3),E());i.forEach(t=>t.removeEventListener("click",g))},z=()=>{i.forEach(e=>e.classList.remove("active-dice")),setTimeout(()=>{i.map(e=>{e.className.includes(`${r}`)&&(e.classList.add("active-dice","blocked-dice"),setTimeout(()=>{e.classList.remove("blocked-dice")},1e3+400*r))})},100)},g=()=>(O(w(1,T)),z(),setTimeout(()=>{k()},500),j(),r),T=6,f=20,i=[],m=[],h=document.createElement("div");(function(){const e=document.getElementById("board");for(let s=1;s<=f;s++){const d=document.createElement("div");d.classList.add("board-field"),d.id=`field-${s}`,e==null||e.appendChild(d);const l=document.createElement("span");l.classList.add("field-number-span"),l.innerHTML=s.toString(),d.appendChild(l),m.push(d)}const t=document.getElementById("field-1");t==null||t.classList.add("first-field","active-field","jumpedOn");const o=document.getElementById(`field-${f.toString()}`);o==null||o.classList.add("last-field"),[document.getElementById("field-12"),document.getElementById("field-19")].map(s=>{s==null||s.classList.add("special-field")});for(let s=1;s<=T;s++){const d=document.createElement("div");d.classList.add("dice",`dice-${s}`),document.body.appendChild(d);for(let l=1;l<=s;l++){const c=document.createElement("div");c.classList.add("dice-dot",`dot-${l}`),d.appendChild(c)}i.push(d)}h.innerHTML=`
    <h2>INSTRUKCJA</h2>
    <p>1. Uważaj na pole 12! Wejdziesz? Przegrywasz!</p>
    <p>2. Uważaj na pole 19! Wejdziesz? Cofasz się do pola o numerze 11!</p>
    <p>3. Gra kończy się wygraną poprzez wejście na pole 20.</p>
    <p>4. UWAGA! Jeśli przekroczysz pole mety cofasz się z niej o tyle pól o ile ją przekroczyłeś.</p>
  `,h.classList.add("instruction"),document.body.appendChild(h);const a=document.createElement("div");a.classList.add("game-info"),document.body.appendChild(a)})();i.findIndex(e=>e.className.includes("active-dice"))===-1&&i[0].classList.add("active-dice");i.forEach(e=>e.addEventListener("click",g,!0));
