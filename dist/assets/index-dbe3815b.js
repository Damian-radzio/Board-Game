(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))m(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&m(r)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function m(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();let i,d=1;const O=e=>i=e,y=e=>d=e,h={totalNumberOfStitches:0,totalNumberOfThrows:0},w={gameInfoText:"Przegrałeś... Aby rozpocząć od nowa kliknij przycisk",restartGameBtnText:"Spróbuj jeszcze raz",bodyClassName:"body-end-game-defeat"},S={gameInfoText:"WYGRANA! Aby rozpocząć od nowa kliknij przycisk",restartGameBtnText:"Zagraj jeszcze raz",bodyClassName:"body-end-game-win"},j=()=>{h.totalNumberOfThrows++,h.totalNumberOfStitches+=i},z=e=>{const t=document.createElement("button"),o=document.querySelector(".game-info");(()=>{const c=document.querySelectorAll(".dice");c.forEach(s=>s.classList.add("hidden")),L.classList.add("hidden"),t.classList.add("restart-game-btn"),t.textContent=e.restartGameBtnText;const a=document.createElement("p");a.textContent=e.gameInfoText,document.body.classList.add(e.bodyClassName);const r=document.createElement("div");r.classList.add("game-stats"),r.innerHTML=`
    <h2>STATYSTYKI GRY</h2>
    <p>łączna liczba rzutów kostką: ${h.totalNumberOfThrows}</p>
    <p>Średnia liczba wyrzuconych oczek: ${(h.totalNumberOfStitches/h.totalNumberOfThrows).toPrecision(2)}</p>
        `;const n=()=>{u.forEach(l=>l.classList.remove("jumpedOn"));const s=document.getElementById("field-1");s==null||s.classList.add("first-field"),s==null||s.classList.add("active-field"),s==null||s.classList.add("jumpedOn"),L.classList.remove("hidden"),c.forEach(l=>l.classList.remove("hidden")),document.body.classList.remove(e.bodyClassName),o==null||o.removeChild(a),o==null||o.removeChild(t),o==null||o.removeChild(r),y(1),t.removeEventListener("click",n,!0)};o==null||o.append(a,t,r),t.addEventListener("click",n,!0)})()},N=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),g=()=>{document.body.classList.add("warning"),setTimeout(()=>{document.body.classList.remove("warning")},2e3)},v=e=>{y(e),setTimeout(()=>{u.forEach(t=>t.classList.remove("jumpedOn")),u[d-1].classList.add("jumpedOn")},500)},C=()=>{setTimeout(()=>{d===12?(g(),setTimeout(()=>{z(w)},2e3)):d===20?z(S):d===19&&(g(),setTimeout(()=>{v(11)},2e3))},i*500)},k=()=>{let e=1;if(d+i<=p){for(let t=d;t<=d+i-1;t++)e++,setTimeout(()=>{u.forEach(o=>o.classList.remove("jumpedOn")),u[t].classList.add("jumpedOn")},e*350);y(d+i)}else d+i>p?(g(),setTimeout(()=>{y(p-(d+i-p));for(let t=p;t>=d-1;t--)e++,setTimeout(()=>{u.forEach(o=>o.classList.remove("jumpedOn")),u[t].classList.add("jumpedOn")},e*350)},2e3)):d+i===19&&v(11);C(),f.forEach(t=>t.removeEventListener("click",E))},B=()=>{f.forEach(e=>e.classList.remove("active-dice")),setTimeout(()=>{f.map(e=>{e.className.includes(`${i}`)&&(e.classList.add("active-dice","blocked-dice"),setTimeout(()=>{e.classList.remove("blocked-dice")},1e3+400*i))})},100)},E=()=>(O(N(1,T)),B(),setTimeout(()=>{k()},500),j(),i),T=6,p=20,f=[],u=[],L=document.createElement("div");(function(){const e=document.getElementById("board");for(let n=1;n<=p;n++){const s=document.createElement("div");s.classList.add("board-field"),s.id=`field-${n}`,e==null||e.appendChild(s);const l=document.createElement("span");l.classList.add("field-number-span"),l.innerHTML=n.toString(),s.appendChild(l),u.push(s)}const t=document.getElementById("field-1");t==null||t.classList.add("first-field","active-field","jumpedOn");const o=document.createElement("img");o.src="src/assets/start.png",t==null||t.appendChild(o);const m=document.getElementById(`field-${p.toString()}`),c=document.createElement("img");c.src="src/assets/finish.png",m==null||m.appendChild(c),m==null||m.classList.add("last-field"),[document.getElementById("field-12"),document.getElementById("field-19")].map(n=>{n==null||n.classList.add("special-field");const s=document.createElement("img");s.src="src/assets/warning.png",n==null||n.appendChild(s)});for(let n=1;n<=T;n++){const s=document.createElement("div");s.classList.add("dice",`dice-${n}`),document.body.appendChild(s);for(let l=1;l<=n;l++){const b=document.createElement("div");b.classList.add("dice-dot",`dot-${l}`),s.appendChild(b)}f.push(s)}L.innerHTML=`
    <h2>INSTRUKCJA</h2>
    <p>1. Uwazaj na pole 12! Wejdziesz? Przegrywasz!</p>
    <p>2. Uwazaj na pole 19! Wejdziesz? Cofasz się do pola o numerze 11!</p>
    <p>3. Gra kończy się wejściem na pole 20</p>
    <p>4. Uwaga! Jeśli przekroczysz pole mety cofasz się z niej o tyle pól o ile ją przekroczyłeś!</p>
  `,L.classList.add("instruction"),document.body.appendChild(L);const r=document.createElement("div");r.classList.add("game-info"),document.body.appendChild(r)})();f.findIndex(e=>e.className.includes("active-dice"))===-1&&f[0].classList.add("active-dice");f.forEach(e=>e.addEventListener("click",E,!0));
